"use strict";(self["webpackChunksport_club"]=self["webpackChunksport_club"]||[]).push([[646],{1472:function(t,e,o){o.d(e,{$G:function(){return a},Ez:function(){return r},a1:function(){return s},cl:function(){return n},jX:function(){return i},lK:function(){return l}});const r=t=>{const{dispatch:e}=t;e("sportsmans/fetchItems")},s=(t,e="")=>{const{getters:o}=t;return e?o["sportsmans/itemsByType"][e]||{}:o["sportsmans/items"]},n=(t,e)=>{const{dispatch:o}=t;o("sportsmans/removeItem",e)},i=(t,{Name:e,Photo:o,TYPE_OF_SPORT_ID:r,Biography:s,Year:n})=>{const{dispatch:i}=t;i("sportsmans/addItem",{Name:e,Photo:o,TYPE_OF_SPORT_ID:r,Biography:s,Year:n})},a=(t,{id:e,Name:o,Photo:r,TYPE_OF_SPORT_ID:s,Biography:n,Year:i})=>{const{dispatch:a}=t;a("sportsmans/updateItem",{id:e,Name:o,Photo:r,TYPE_OF_SPORT_ID:s,Biography:n,Year:i})},l=(t,e)=>{const{getters:o}=t;return o["sportsmans/itemsByKey"][e]||{}}},5403:function(t,e,o){o.d(e,{$G:function(){return a},Nr:function(){return r},cl:function(){return n},jX:function(){return i},lK:function(){return l},ol:function(){return s}});const r=t=>{const{dispatch:e}=t;e("typeofsport/fetchItems")},s=t=>{const{getters:e}=t;return e["typeofsport/items"]},n=(t,e)=>{const{dispatch:o}=t;o("typeofsport/removeItem",e)},i=(t,{TypeOfSport:e})=>{const{dispatch:o}=t;o("typeofsport/addItem",{TypeOfSport:e})},a=(t,{id:e,TypeOfSport:o})=>{const{dispatch:r}=t;r("typeofsport/updateItem",{id:e,TypeOfSport:o})},l=(t,e)=>{const{getters:o}=t;return o["typeofsport/itemsByKey"][e]||{}}},8443:function(t,e,o){o.d(e,{Z:function(){return c}});var r=o(3396);const s=["disabled"];function n(t,e,o,n,i,a){return(0,r.wg)(),(0,r.iD)("button",{disabled:o.disabled,class:"v-button"},[(0,r.WI)(t.$slots,"default")],8,s)}var i={name:"Btn",props:{theme:String,disabled:Boolean}},a=o(89);const l=(0,a.Z)(i,[["render",n]]);var c=l},7817:function(t,e,o){o.d(e,{Z:function(){return d}});var r=o(3396),s=o(7139);const n={class:"layout"},i={key:0,class:"layout__title"},a={class:"layout__content"};function l(t,e,o,l,c,p){return(0,r.wg)(),(0,r.iD)("div",n,[o.title?((0,r.wg)(),(0,r.iD)("h1",i,(0,s.zw)(o.title),1)):(0,r.kq)("",!0),(0,r._)("div",a,[(0,r.WI)(t.$slots,"default")])])}var c={name:"Layout",props:{title:{type:String}}},p=o(89);const u=(0,p.Z)(c,[["render",l]]);var d=u},1646:function(t,e,o){o.r(e),o.d(e,{default:function(){return U}});var r=o(3396);function s(t,e,o,s,n,i){const a=(0,r.up)("SportsmansForm"),l=(0,r.up)("Layout");return(0,r.wg)(),(0,r.j4)(l,{title:o.id?"Редактирование записи":"Создание записи"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{onSubmit:s.onSubmit,id:o.id},null,8,["onSubmit","id"])])),_:1},8,["title"])}var n=o(65),i=o(1472),a=o(7817),l=o(9242);const c={class:"form"},p={key:0,class:"form__item"},u=(0,r._)("div",{class:"form__label"},[(0,r._)("label",{for:"id"},"ID")],-1),d={class:"form__item"},m=(0,r._)("div",{class:"form__label"},[(0,r._)("label",{for:"Name"},"ФИО")],-1),_={class:"form__item"},f=(0,r._)("div",{class:"form__label"},[(0,r._)("label",{for:"Photo"},"Фотография")],-1),y={class:"form__item"},h=(0,r._)("div",{class:"form__label"},[(0,r._)("label",{for:"TypeOfSport"},"Вид спорта")],-1),v={class:"form__item"},S=(0,r._)("div",{class:"form__label"},[(0,r._)("label",{for:"Biography"},"Биография")],-1),b={class:"form__item"},P=(0,r._)("div",{class:"form__label"},[(0,r._)("label",{for:"Year"},"Год начала карьеры")],-1),g={class:"form__item"},O=(0,r.Uk)("Сохранить");function T(t,e,o,s,n,i){const a=(0,r.up)("Select"),T=(0,r.up)("Btn");return(0,r.wg)(),(0,r.iD)("div",c,[s.form.id?((0,r.wg)(),(0,r.iD)("div",p,[u,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.form.id=t),disabled:"",class:"form__input",id:"id",placeholder:"id",type:"text"},null,512),[[l.nr,s.form.id]])])):(0,r.kq)("",!0),(0,r._)("div",d,[m,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.form.Name=t),class:"form__input",id:"Name",placeholder:"ФИО",type:"text"},null,512),[[l.nr,s.form.Name]])]),(0,r._)("div",_,[f,(0,r._)("input",{onChange:e[2]||(e[2]=(...t)=>s.previewFiles&&s.previewFiles(...t)),class:"form__input",id:"Photo",placeholder:"Фото",type:"file"},null,32)]),(0,r._)("div",y,[h,(0,r.Wm)(a,{modelValue:s.form.TYPE_OF_SPORT_ID,"onUpdate:modelValue":e[3]||(e[3]=t=>s.form.TYPE_OF_SPORT_ID=t),class:"form__select",name:"TypeOfSport",id:"TypeOfSport",selectID:s.form.TYPE_OF_SPORT_ID,items:s.typeOfSportList},null,8,["modelValue","selectID","items"])]),(0,r._)("div",v,[S,(0,r._)("input",{onChange:e[4]||(e[4]=(...t)=>s.previewFiles&&s.previewFiles(...t)),class:"form__input",id:"Biography",placeholder:"Биография",type:"file"},null,32)]),(0,r._)("div",b,[P,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>s.form.Year=t),class:"form__input",id:"Year",placeholder:"Год",type:"date"},null,512),[[l.nr,s.form.Year]])]),(0,r._)("div",g,[(0,r.Wm)(T,{onClick:s.onClick,disabled:!s.isValid,class:"info"},{default:(0,r.w5)((()=>[O])),_:1},8,["onClick","disabled"])])])}var I=o(4870),w=o(678),D=o(5403),Y=o(8443),F=o(7139);const B=["value"];function k(t,e,o,s,n,i){return(0,r.wy)(((0,r.wg)(),(0,r.iD)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.selected=t),class:"select"},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.items,(t=>((0,r.wg)(),(0,r.iD)("option",{key:t.id,value:t.id},(0,F.zw)(t.TypeOfSport),9,B)))),128))],512)),[[l.bM,s.selected]])}var E={name:"Select",props:{items:Array,selectID:Number},setup(t,{emit:e}){const o=(0,I.iH)(t.selectID);return{selected:o}}},N=o(89);const R=(0,N.Z)(E,[["render",k]]);var V=R,Z={name:"SportsmansForm",props:{id:{type:String,default:""}},components:{Select:V,Btn:Y.Z},setup(t,e){const o=(0,n.oR)(),s=(0,w.tv)(),a=(0,I.qj)({id:"",Name:"",Photo:"",TYPE_OF_SPORT_ID:1,Biography:"",Year:""}),l=(0,r.Fl)((()=>{for(const[t,e]of Object.entries(a))if("id"!==t&&!e)return!1;return!0})),c=t=>{a[`${t.target.id}`]=`/assets/photos/${t.target.files[0].name}`};return(0,r.wF)((()=>{(0,i.Ez)(o),(0,D.Nr)(o)})),(0,r.m0)((()=>{const e=(0,i.lK)(o,t.id);Object.keys(e).forEach((t=>{a[t]=e[t]}))})),{form:a,isValid:l,previewFiles:c,typeOfSportList:(0,r.Fl)((()=>(0,D.ol)(o))),onClick:()=>{e.emit("submit",a),s.push({name:"Sportsmans"})}}}};const C=(0,N.Z)(Z,[["render",T]]);var j=C,$={name:"SportsmansEdit",props:{id:String},components:{Layout:a.Z,SportsmansForm:j},setup(){const t=(0,n.oR)();return{onSubmit:({id:e,Name:o,Photo:r,TYPE_SPORT_ID:s,Biography:n,Year:a})=>e?(0,i.$G)(t,{id:e,Name:o,Photo:r,TYPE_SPORT_ID:s,Biography:n,Year:a}):(0,i.jX)(t,{Name:o,Photo:r,TYPE_SPORT_ID:s,Biography:n,Year:a})}}};const K=(0,N.Z)($,[["render",s]]);var U=K}}]);
//# sourceMappingURL=646.b76fb600.js.map