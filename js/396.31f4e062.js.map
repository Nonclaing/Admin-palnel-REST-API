{"version":3,"file":"js/396.31f4e062.js","mappings":"4NAAO,MAAMA,EAAuBC,IAClC,MAAM,SAAEC,GAAaD,EACrBC,EAAS,0BAQEC,EAAuB,CAACF,EAAOG,EAAU,MACpD,MAAM,QAAEC,GAAYJ,EACpB,OAAWG,EAAWC,EAAQ,0BAA0BD,IAAY,GAAKC,EAAQ,qBAGtEC,EAAsB,CAACL,EAAOM,KACzC,MAAM,SAAEL,GAAaD,EACrBC,EAAS,wBAAyBK,IAavBC,EAA0B,CAACP,EAAOM,KAC7C,MAAM,QAAEF,GAAYJ,EACpB,OAAOI,EAAQ,yBAAyBE,IAAO,K,kLC/B/CE,EAAAA,EAAAA,IAESC,EAAA,CAFDC,MAAM,cAAY,C,kBACxB,IAA4E,EAA5EC,EAAAA,EAAAA,IAA4EC,EAAA,CAA3DC,aAAcC,EAAAA,aAAeC,aAAcD,EAAAA,cAA5D,2C,6BCDGE,MAAM,Q,GAcAA,MAAM,e,WACuC,Y,WACI,W,WAKxB,W,gHArBpCC,EAAAA,EAAAA,IAuBM,MAvBN,EAuBM,EAtBJN,EAAAA,EAAAA,IAkBQO,EAAA,CAjBLC,QAAS,CAAC,C,kCAAD,C,qCAAA,C,4CAAA,C,0DAAA,C,gDAAA,C,oDAAA,C,kCASTC,MAAOC,EAAAA,OAVV,CAYmBC,SAAO,SACtB,EAD0BC,KAAAA,KAAI,EAC9BC,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJb,EAAAA,EAAAA,IAA8Dc,EAAA,CAAxDC,QAAK,GAAEL,EAAAA,YAAYE,EAAKjB,IAAKU,MAAM,QAAzC,C,kBAAgD,IAAQ,M,KAAxD,mBACAL,EAAAA,EAAAA,IAAiEc,EAAA,CAA3DC,QAAK,GAAEL,EAAAA,cAAcE,EAAKjB,IAAKU,MAAM,UAA3C,C,kBAAoD,IAAO,M,KAA3D,uB,KAfN,cAmBAL,EAAAA,EAAAA,IAEcgB,EAAA,CAFAC,GAAI,CAAAC,KAAAA,mBAA0B,C,kBAC1C,IAA6C,EAA7ClB,EAAAA,EAAAA,IAA6Cc,EAAA,CAAxCT,MAAM,qBAAoB,C,kBAAC,IAAO,M,oEAc7C,GACEa,KAAM,iBACNC,WAAY,CACVC,MADU,IAEVC,IAAAA,EAAAA,GAEFC,MAAO,CACLpB,aAAcqB,OACdnB,aAAcmB,QAEhBC,MAAMF,GACJ,MAAMjC,GAAQoC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MAIf,OAHAC,EAAAA,EAAAA,KAAU,MACRxC,EAAAA,EAAAA,IAAoBC,MAEf,CACLoB,OAAOoB,EAAAA,EAAAA,KAAS,KAAMtC,EAAAA,EAAAA,IAAqBF,EAAOiC,EAAM9B,WACxDsC,cAAenC,IACb,MAAMoC,EAAkBC,QAAQ,2CAC5BD,IACFrC,EAAAA,EAAAA,IAAoBL,EAAOM,IAG/BsC,YAAatC,IACX+B,EAAOQ,KAAK,CAAEhB,KAAM,iBAAkBiB,OAAQ,CAAExC,GAAAA,S,QCxDxD,MAAMyC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QFGA,GACElB,KAAM,aACNC,WAAY,CACVkB,OADU,IAEVC,eAAAA,GAEFhB,MAAO,CACLpB,aAAcqB,OACdnB,aAAcmB,QAEhBC,MAAMF,MGfR,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASiB,KAEpE","sources":["webpack://sport-club/./src/store/sportsmans/selectors.js","webpack://sport-club/./src/views/SportsmansPage.vue","webpack://sport-club/./src/components/SportsmansList/SportsmansList.vue","webpack://sport-club/./src/components/SportsmansList/SportsmansList.vue?0a06","webpack://sport-club/./src/views/SportsmansPage.vue?d2a2"],"sourcesContent":["export const fetchSportsmanItems = (store) => {\n  const { dispatch } = store;\n  dispatch('sportsmans/fetchItems');\n};\n\nexport const fetchSportsmanFilteredItems = (store, filter_field, filter_id) => {\n  const { dispatch } = store;\n  dispatch('sportsman/fetchFilteredItems', filter_field, filter_id);\n};\n\nexport const selectSportsmanItems = (store, type_id = '') => {\n  const { getters } = store;\n  return  !!(type_id) ? getters['sportsmans/itemsByType'][type_id] || {} : getters['sportsmans/items'];\n}\n\nexport const removeSportsmanItem = (store, id) => {\n  const { dispatch } = store;\n  dispatch('sportsmans/removeItem', id);\n}\n\nexport const addSportsmanItem = (store, sportsman) => {\n  const { dispatch } = store;\n  dispatch('sportsmans/addItem', sportsman);\n}\n\nexport const updateSportsmanItem = (store, sportsman) => {\n  const { dispatch } = store;\n  dispatch('sportsmans/updateItem', sportsman);\n}\n\nexport const selectSportsmanItemById = (store, id) => {\n  const { getters } = store;\n  return getters['sportsmans/itemsByKey'][id] || {};\n}","<template>\n  <Layout title=\"Спортсмены\">\n    <SportsmansList :filter_field=\"filter_field\" :filter_value=\"filter_value\" />\n  </Layout>\n</template>\n\n<script>\nimport Layout from '@/components/Layout/Layout';\nimport SportsmansList from '@/components/SportsmansList/SportsmansList';\n\nexport default {\n  name: 'Sportsmans',\n  components: {\n    Layout,\n    SportsmansList,\n  },\n  props: {\n    filter_field: String,\n    filter_value: String,\n  },\n  setup(props) {\n\n  }\n}\n</script>\n","<template>\n  <div class=\"list\">\n    <Table\n      :headers=\"[\n        {value: 'id', text: 'ID', type: 'text'},\n        {value: 'Name', text: 'ФИО', type: 'text'},\n        {value: 'Photo', text: 'Фотография', type: 'img'},\n        {value: 'TYPE_OF_SPORT_ID', text: 'Вид спорта', type: 'select'},\n        {value: 'Biography', text: 'Биография', type: 'link',},\n        {value: 'Year', text: 'Год начала карьеры', type: 'date'},\n        {value: 'control', text: 'Действие'},\n      ]\"\n      :items=\"items\"\n    >\n      <template v-slot:control=\"{ item }\">\n        <div class=\"btn-control\">\n          <Btn @click=\"onClickEdit(item.id)\" class=\"info\">Изменить</Btn>\n          <Btn @click=\"onClickRemove(item.id)\" class=\"danger\">Удалить</Btn>\n        </div>\n      </template>\n    </Table>\n    <router-link :to=\"{ name: 'SportsmansEdit' }\">\n      <Btn class=\"list__create info \">Создать</Btn>\n    </router-link>\n  </div>\n</template>\n\n<script>\nimport { useStore } from 'vuex';\nimport { computed, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\n\nimport { selectSportsmanItems, removeSportsmanItem, fetchSportsmanItems } from '@/store/sportsmans/selectors';\nimport Table from '@/components/Table/Table';\nimport Btn from '@/components/Btn/Btn';\n\nexport default {\n  name: 'SportsmansList',\n  components: {\n    Table,\n    Btn,\n  },\n  props: {\n    filter_field: String,\n    filter_value: String,\n  },\n  setup(props) {\n    const store = useStore();\n    const router = useRouter();\n    onMounted(() => {\n      fetchSportsmanItems(store);\n    });\n    return {\n      items: computed(() => selectSportsmanItems(store, props.type_id)),\n      onClickRemove: id => {\n        const isConfirmRemove = confirm('Вы действительно хотите удалить запись?')\n        if (isConfirmRemove) {\n          removeSportsmanItem(store, id)\n        }\n      },\n      onClickEdit: id => {\n        router.push({ name: 'SportsmansEdit', params: { id } })\n      }\n    }\n  }\n\n}\n</script>\n","import { render } from \"./SportsmansList.vue?vue&type=template&id=61fb0e8c\"\nimport script from \"./SportsmansList.vue?vue&type=script&lang=js\"\nexport * from \"./SportsmansList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\OpenServer\\\\domains\\\\sport-club\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./SportsmansPage.vue?vue&type=template&id=76172e87\"\nimport script from \"./SportsmansPage.vue?vue&type=script&lang=js\"\nexport * from \"./SportsmansPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\OpenServer\\\\domains\\\\sport-club\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["fetchSportsmanItems","store","dispatch","selectSportsmanItems","type_id","getters","removeSportsmanItem","id","selectSportsmanItemById","_createBlock","_component_Layout","title","_createVNode","_component_SportsmansList","filter_field","$props","filter_value","class","_createElementBlock","_component_Table","headers","items","$setup","control","item","_createElementVNode","_component_Btn","onClick","_component_router_link","to","name","components","Table","Btn","props","String","setup","useStore","router","useRouter","onMounted","computed","onClickRemove","isConfirmRemove","confirm","onClickEdit","push","params","__exports__","Layout","SportsmansList","render"],"sourceRoot":""}